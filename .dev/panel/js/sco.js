!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n():"function"==typeof define&&define.amd?define("sco",n):n()}(0,function(){"use strict";function e(e,n){for(var t=[],r=e;r<=n;r++)t.push(r);return t}function n(e){for(var n=e.toString(16);n.length<2;)n="0"+n;return n}function t(e){for(var t=[],r=0,o=e.length;r<o;r++)t.push(n(e[r]));return"#"+t.join("")}function r(e,n,r,o){var i=e>0?40*e+55:0,u=n>0?40*n+55:0,c=r>0?40*r+55:0;o[16+36*e+6*n+r]=t([i,u,c])}function o(e){return e}function i(e,n,t){return t||(t=""),e.push(n),["<"+n,t?' style="'+t+'"':void 0,">"].join("")}function u(e,n){return i(e,"span","color:"+n)}function c(e){var n=e.slice(0);return e.length=0,n.reverse().map(function(e){return"</"+e+">"}).join("")}function a(e,n){return i(e,"span",n)}function f(e,n){var t=void 0;return e.slice(-1)[0]===n&&(t=e.pop()),t?"</"+n+">":""}function s(e,n){return i(e,"span","background-color:"+n)}function l(e,n,t){var r=void 0,o={"-1":function(){return"<br/>"},0:function(){return e.length&&c(e)},1:function(){return i(e,"b")},3:function(){return i(e,"i")},4:function(){return i(e,"u")},8:function(){return a(e,"display:none")},9:function(){return i(e,"strike")},22:function(){return f(e,"b")},23:function(){return f(e,"i")},24:function(){return f(e,"u")},39:function(){return u(e,t.fg)},49:function(){return s(e,t.bg)}};return o[n=parseInt(n)]?r=o[n]():4<n&&n<7?r=i(e,"blink"):29<n&&n<38?r=u(e,t.colors[n-30]):39<n&&n<48?r=s(e,t.colors[n-40]):89<n&&n<98?r=u(e,t.colors[n-90+8]):99<n&&n<108&&(r=s(e,t.colors[n-100+8])),r}function d(e,n,t,r){var i=void 0;return"text"===n?i=o(t,r):"display"===n?i=l(e,t,r):"xterm256"===n&&(i=u(e,r.colors[t])),i}function v(e){return function(n){return(null===e||n.category!==e)&&"all"!==e}}function p(e){return 0===(e=parseInt(e))?"all":1===e?"bold":2<e&&e<5?"underline":4<e&&e<7?"blink":8===e?"hide":9===e?"strike":29<e&&e<38||39===e||89<e&&e<98?"foreground-color":39<e&&e<48||49===e||99<e&&e<108?"background-color":null}function h(e,n,t){function r(){return""}for(var o=!1,i=3,u=[{pattern:/^\x08+/,sub:r},{pattern:/^\x1b\[[012]?K/,sub:r},{pattern:/^\x1b\[\(B/,sub:r},{pattern:/^\x1b\[38;5;(\d+)m/,sub:function(e,n){return t("xterm256",n),""}},{pattern:/^\n/,sub:function(e){return n.newline?t("display",-1):t("text",e),""}},{pattern:/^\x1b\[((?:\d{1,3};?)+|)m/,sub:function(e,n){o=!0,0===n.trim().length&&(n="0");for(var r=0,i=(n=n.trimRight(";").split(";")).length;r<i;r++)t("display",n[r]);return""}},{pattern:/^\x1b\[?[\d;]{0,3}/,sub:r},{pattern:/^([^\x1b\x08\n]+)/,sub:function(e){return t("text",e),""}}],c=void 0,a=[],f=e.length;f>0;){for(var s=!1,l=0,d=0,v=u.length;d<v;l=++d)if(c=u[l],function(n,t){t>i&&o||(o=!1,e=e.replace(n.pattern,n.sub))}(c,l),e.length!==f){f=e.length,s=!0;break}if(!s){if(e.length===f)break;a.push(0),f=e.length}}return a}function m(e,n,t){return"text"!==n&&(e=e.filter(v(p(t)))).push({token:n,data:t,category:p(t)}),e}var y={fg:"#FFF",bg:"#000",newline:!1,escapeXML:!1,stream:!1,colors:function(){var t={0:"#000",1:"#A00",2:"#0A0",3:"#A50",4:"#00A",5:"#A0A",6:"#0AA",7:"#AAA",8:"#555",9:"#F55",10:"#5F5",11:"#FF5",12:"#55F",13:"#F5F",14:"#5FF",15:"#FFF"};return e(0,5).forEach(function(n){e(0,5).forEach(function(o){e(0,5).forEach(function(e){return r(n,o,e,t)})})}),e(0,23).forEach(function(e){var r=e+232,o=n(10*e+8);t[r]="#"+o+o+o}),t}()},g=function(e){e="string"==typeof e?[e]:e;var n=[],t=[],r=y,o=[];return t.forEach(function(e){var t=d(n,e.token,e.data,r);t&&o.push(t)}),h(e.join(""),r,function(e,i){var u=d(n,e,i,r);u&&o.push(u),r.stream&&(t=m(t,e,i))}),n.length&&o.push(c(n)),o.join("")};document.addEventListener("DOMContentLoaded",function(){var e=document.getElementsByTagName("body")[0],n=document.getElementsByTagName("head")[0],t=document.createElement("link");if(t.type="text/css",t.rel="stylesheet",t.href="/.dev/css/sco.css",n.appendChild(t),/\/\.dev(\/|$)/i.test(location.pathname)){var r=document.createElement("div");return r.id="site-conveyer-widget",r.innerHTML='<header><a href="/">Back to your project</a></header>',void e.appendChild(r)}var o=document.createElement("div");o.id="site-conveyer-overlay",o.innerHTML='<header>SiteConveyer</header><div class="site-conveyer-overlay-errors"></div>',e.appendChild(o);var i=document.createElement("div");i.id="site-conveyer-widget",i.innerHTML='<header><a href="/.dev">SiteConveyer</a></header>',e.appendChild(i);var u=document.createElement("script");u.async=!0,u.src="/.dev/js/vendor/sco-io.js",e.appendChild(u);var c=document.getElementById("site-conveyer-overlay"),a=c.querySelector(".site-conveyer-overlay-errors"),f=function(){e.style.overflow="hidden",c.classList.add("__active")},s=function(){c.classList.remove("__active"),e.style.overflow=null},l=void 0,d=function(){l.on("error",function(e){if(e&&e.length){var n="";e.forEach(function(e){n+='\n                        <div class="site-conveyer-overlay-error">\n                            <header>\n                                Error "'+e.name+'" in '+e.plugin+(e.fileName?" at "+e.fileName:"")+":\n                            </header>\n                            <pre><code>"+e.message+(e.codeFrame?"\n\n"+g(e.codeFrame):"")+"</code></pre>\n                        </div>\n                    "}),a.innerHTML=n.replace(/>\s*</,"><").trim(),f()}else s()})};!function e(){"function"==typeof io?(l=io("http://localhost:9000"),d()):setTimeout(e,200)}()})});

//# sourceMappingURL=../sourcemaps/sco.js.map
